<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WebRTC P2P App</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <div class="sidebar">
            <div class="user-info">
                <h2>Your ID: <span id="userId">Generating...</span></h2>
            </div>
            <div class="users-list">
                <h3>Connected Users</h3>
                <ul id="usersList"></ul>
            </div>
            <div class="connection-status">
                <h3>Connection Status</h3>
                <div id="connectionStatus">Not connected</div>
            </div>
        </div>
        <div class="main-content">
            <div class="video-container">
                <div class="video-wrapper">
                    <video id="localVideo" autoplay muted playsinline></video>
                </div>
                <div class="video-wrapper">
                    <video id="remoteVideo" autoplay playsinline></video>
                </div>
            </div>
            <div class="chat-container">
                <div class="chat-messages" id="chatMessages"></div>
                <div class="file-transfer">
                    <div class="file-input">
                        <label for="fileInput" class="file-label">ğŸ“</label>
                        <input type="file" id="fileInput" style="display: none;">
                    </div>
                    <div id="fileStatus"></div>
                </div>
                <div class="chat-input">
                    <input type="text" id="messageInput" placeholder="Type a message...">
                    <button id="sendMessage">Send</button>
                </div>
            </div>
            <div class="controls">
                <button id="startButton">Start Camera</button>
                <button id="callButton" disabled>Call Selected User</button>
                <button id="hangupButton" disabled>Hang Up</button>
                <button id="toggleAudio" class="icon-button">ğŸ¤</button>
                <button id="toggleVideo" class="icon-button">ğŸ“¹</button>
                <button id="screenShareButton" class="icon-button" disabled>ğŸ–¥ï¸</button>
                <button id="recordButton" class="icon-button" disabled>âš«</button>
                <button id="whiteboardButton" class="icon-button" disabled>âœï¸</button>
                <button id="testConnection" disabled>Test Connection</button>
            </div>
            <div class="whiteboard-container" style="display: none;">
                <div class="whiteboard-toolbar">
                    <button id="penTool" class="tool-button active">âœï¸</button>
                    <button id="eraserTool" class="tool-button">ğŸ§½</button>
                    <input type="color" id="colorPicker" value="#000000">
                    <select id="penSize">
                        <option value="2">Thin</option>
                        <option value="5" selected>Medium</option>
                        <option value="10">Thick</option>
                    </select>
                    <button id="clearWhiteboard" class="tool-button">ğŸ—‘ï¸</button>
                    <button id="closeWhiteboard" class="tool-button">âœ•</button>
                </div>
                <canvas id="whiteboard"></canvas>
            </div>
        </div>
    </div>
    <script src="https://cdn.socket.io/4.7.4/socket.io.min.js"></script>
    <script src="app.js"></script>
</body>
</html> 